<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa de Estoque - Buffet Rio</title>
    <style>
        :root { --primaria: #0f172a; --destaque: #10b981; --fundo: #f8fafc; --texto: #1e293b; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; background: var(--fundo); color: var(--texto); }
        
        /* Menu Lateral */
        nav { width: 260px; background: var(--primaria); height: 100vh; position: fixed; padding: 20px; color: white; }
        nav h2 { color: var(--destaque); font-size: 1.1rem; border-bottom: 1px solid #334155; padding-bottom: 10px; }
        .btn-menu { width: 100%; padding: 12px; margin: 8px 0; background: #1e293b; border: none; color: white; text-align: left; border-radius: 8px; cursor: pointer; }
        .btn-menu:hover { background: var(--destaque); color: #0f172a; }

        /* √Årea de Conte√∫do */
        main { margin-left: 280px; padding: 30px; width: 100%; }
        .caminho { margin-bottom: 15px; font-weight: bold; color: var(--destaque); cursor: pointer; }
        
        /* Grid de Pastas/Estantes (Visual para iniciantes) */
        .grid-mapa { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .card-setor { background: white; padding: 30px; border-radius: 12px; border: 2px solid #e2e8f0; text-align: center; cursor: pointer; transition: 0.3s; }
        .card-setor:hover { border-color: var(--destaque); transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.05); }
        .card-setor i { font-size: 2rem; display: block; margin-bottom: 10px; }

        /* Tabela de Itens */
        .card-itens { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 12px; background: #f1f5f9; font-size: 0.8rem; }
        td { padding: 12px; border-bottom: 1px solid #f1f5f9; }
        .info-box { font-size: 0.75rem; background: #f8fafc; padding: 5px; border-radius: 4px; border-left: 3px solid var(--destaque); color: #64748b; }

        /* Modal de Cadastro */
        #modal-add { display:none; position:fixed; top:10%; left:30%; width:40%; background:white; padding:25px; border-radius:12px; box-shadow:0 0 20px rgba(0,0,0,0.5); z-index:1000; }
        input, select, textarea { width:100%; padding:10px; margin: 5px 0; border:1px solid #ccc; border-radius:5px; }
    </style>
</head>
<body>

<nav>
    <h2>BUFFET RIO PRO</h2>
    <button class="btn-menu" style="background:#6366f1" onclick="document.getElementById('modal-add').style.display='block'">‚ûï NOVO ITEM</button>
    <p style="font-size:0.7rem; color:#64748b; margin-top:20px">MAPA F√çSICO</p>
    <button class="btn-menu" onclick="irCat('C√¢mara')">üßä C√ÇMARAS</button>
    <button class="btn-menu" onclick="irCat('Freezer')">‚ùÑÔ∏è FREEZERS</button>
    <button class="btn-menu" onclick="irCat('Equipamento')">‚ö° EQUIPAMENTOS</button>
    <button class="btn-menu" onclick="irCat('Material')">üçΩÔ∏è MATERIAIS</button>
</nav>

<main>
    <div id="bread" class="caminho" onclick="reseta()">üè† IN√çCIO</div>
    <h1 id="titulo">Onde voc√™ quer ir hoje?</h1>
    
    <div id="conteudo">
        <!-- O conte√∫do muda entre Grid de Estantes e Tabela de Itens -->
    </div>
</main>

<!-- FORMULARIO -->
<div id="modal-add">
    <h3>Cadastrar no Estoque</h3>
    <input type="text" id="n" placeholder="Nome do Item">
    <select id="c"><option>C√¢mara</option><option>Freezer</option><option>Equipamento</option><option>Material</option></select>
    <input type="text" id="s" placeholder="Estante ou Gaveta (Ex: Estante A)">
    <input type="number" id="q" placeholder="Quantidade">
    <textarea id="i" placeholder="Dados Eletr√¥nicos (Voltagem, etc)"></textarea>
    <button onclick="salvar()" style="width:100%; padding:10px; background:var(--destaque); border:none; cursor:pointer">SALVAR</button>
    <button onclick="document.getElementById('modal-add').style.display='none'" style="width:100%; margin-top:5px">CANCELAR</button>
</div>

<script>
    let estoque = JSON.parse(localStorage.getItem('buffet_mapa')) || [
        { id:1, cat:'C√¢mara', setor:'Estante A (Frios)', nome:'Queijo Minas', qtd:10, info:'Temp: 4¬∞C' },
        { id:2, cat:'Equipamento', setor:'√Årea de Coc√ß√£o', nome:'Forno', qtd:1, info:'220V | Bif√°sico' }
    ];

    let catSel = "";
    let setorSel = "";

    function irCat(c) { catSel = c; setorSel = ""; render(); }
    function irSetor(s) { setorSel = s; render(); }
    function reseta() { catSel = ""; setorSel = ""; render(); }

    function render() {
        const t = document.getElementById('titulo');
        const c = document.getElementById('conteudo');
        const b = document.getElementById('bread');

        if(!catSel) {
            t.innerText = "Selecione uma categoria ao lado";
            c.innerHTML = "<p>Clique em uma das op√ß√µes no menu para ver o mapa do estoque.</p>";
            return;
        }

        if(!setorSel) {
            b.innerText = `üè† IN√çCIO > ${catSel.toUpperCase()}`;
            t.innerText = `Em qual setor da ${catSel} voc√™ vai mexer?`;
            const setores = [...new Set(estoque.filter(i => i.cat === catSel).map(i => i.setor))];
            
            let html = '<div class="grid-mapa">';
            setores.forEach(s => {
                html += `<div class="card-setor" onclick="irSetor('${s}')">
                            <span>üìÇ</span><br><b>${s}</b><br>
                            <small>${estoque.filter(i => i.setor === s).length} itens aqui</small>
                         </div>`;
            });
            c.innerHTML = html + '</div>';
        } else {
            b.innerHTML = `<span onclick="irCat('${catSel}')">üè† IN√çCIO > ${catSel.toUpperCase()}</span> > ${setorSel.toUpperCase()}`;
            t.innerText = `Itens dentro de: ${setorSel}`;
            
            const itens = estoque.filter(i => i.cat === catSel && i.setor === setorSel);
            let html = '<div class="card-itens"><table><thead><tr><th>Item</th><th>Qtd</th><th>Dados Eletr√¥nicos/T√©cnicos</th><th>A√ß√£o</th></tr></thead><tbody>';
            itens.forEach(p => {
                html += `<tr>
                            <td><b>${p.nome}</b></td>
                            <td>${p.qtd}</td>
                            <td><div class="info-box">${p.info || '-'}</div></td>
                            <td>
                                <button onclick="mudar(${p.id}, 1)">+</button>
                                <button onclick="mudar(${p.id}, -1)">-</button>
                            </td>
                         </tr>`;
            });
            c.innerHTML = html + '</tbody></table></div>';
        }
    }

    function mudar(id, v) {
        const i = estoque.find(x => x.id === id);
        i.qtd = Math.max(0, i.qtd + v);
        localStorage.setItem('buffet_mapa', JSON.stringify(estoque));
        render();
    }

    function salvar() {
        estoque.push({
            id: Date.now(),
            nome: document.getElementById('n').value,
            cat: document.getElementById('c').value,
            setor: document.getElementById('s').value,
            qtd: parseInt(document.getElementById('q').value) || 0,
            info: document.getElementById('i').value
        });
        localStorage.setItem('buffet_mapa', JSON.stringify(estoque));
        document.getElementById('modal-add').style.display='none';
        render();
    }

    render();
</script>
</body>
</html>

